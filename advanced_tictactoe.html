<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>advanced tictactoe</title>
    <style>
        #content {
            font-size: 60px;
        }
    </style>
</head>
<body>
<div id="content"></div>
<script>
    let arr = [];
    let data = "";
    for (let i = 0; i < 3; i++) {
        arr[i] = ["*", "*", "*"];
    }
    for (let i = 0; i < 3; i++) {
        data += "<div>";
        for (let j = 0; j < 3; j++) {
            data += `<span id="${i}+''+${j}" onclick='playGame(this.id,${i},${j})'>${arr[i][j]}</span>`;
        }
        data += "</div>";
    }
    document.getElementById("content").innerHTML = data;
    let turn = "x";

    function playGame(e,i,j) {
        valueOfId = document.getElementById(e);
        if (valueOfId.innerHTML == "*") {
            let data = "";
            if (turn == "x") {
                data = "x";
                turn = "o";
            } else {
                data = "o";
                turn = "x";
            }
            valueOfId.innerHTML = data;
           arr[i][j] = data;
        } else {
            alert("Choose another position!");
        }
        if (checkWinRow() || checkWinCol() || checkWinLeft() || checkWinRight()) {
            alert("Chúc mừng");
        }
    }

    function checkWinRow() {
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if ((arr[i][j] == arr[i][j + 1]) && (arr[i][j + 1] == arr[i][j + 2]) && (arr[i][j] != "*")) {
                    return true;
                } else {
                    return false;
                }
            }
        }
    }

    function checkWinCol() {
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if ((arr[i][j] == arr[i + 1][j]) && (arr[i + 1][j] == arr[i + 2][j]) && (arr[i][j] != "*")) {
                    return true;
                } else {
                    return false;
                }

            }
        }
    }

    function checkWinLeft() {
        for (let i = 0; i < 3; i++) {
            for (let j = 0; j < 3; j++) {
                if ((arr[i][j] == arr[i + 1][j + 1]) && (arr[i + 1][j + 1] == arr[i + 2][j + 2]) && (arr[i][j] != "*")) {
                    return true;
                } else {
                    return false;
                }
            }
        }
    }

    function checkWinRight() {
        for (let i = 2; i >=0; i--) {
            for (let j = 0; j <= 2; j++) {
                if ((arr[i][j] == arr[i -1][j +1]) && (arr[i - 1][j + 1] == arr[i - 2][j + 2]) && (arr[i][j] != "*")) {
                    return true;
                } else {
                    return false;
                }
            }
        }
    }
</script>
</body>
</html>